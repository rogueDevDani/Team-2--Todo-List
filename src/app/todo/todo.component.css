/* Define color variables (palette) */
:root {
    --orange: #F66C2D; /* For progress, streak, etc. */
    --red: #e53935; /* For opponent progress/danger */
    --blue: #4691CC; /* For buttons/status */
    --bg: #363641; /* Dark text/primary color (originally blue) */
    --app-bg-color: #082C8C; /* Dark blue background color (fallback) */
}

*{
    box-sizing: border-box;
    font-family: Fixedayz, Arial;
}

/* app-wrap narrow centered */
.app-wrap { max-width: 680px; margin: 18px auto; position:relative; }

/* main box styling */
.todo-box {
    background:#21212166; 
    backdrop-filter: none; /* Removed blur */
    border-radius: 30px;
    padding: 18px;
    min-width: 180%;
    border: 1px solid rgba(0,0,0,0.1);
    box-shadow: 25px 20px 30px #82828288,
             -10px -10px 20px #934825bd;
    position: relative;
    right: 250px; 
    margin-top: 20px; 
}

/* TITLE ROW FIX */
.title-row { 
    display:flex; 
    align-items:center; 
    gap:18px; 
    justify-content:center; 
    margin-bottom:12px; 
}
.title-row h2 { 
    background-image: linear-gradient(#F66C2D, #E7E419); 
    background-clip: text;
    color: transparent;
    -webkit-text-stroke: 1px #F0EBDF;
    margin:0; 
    font-family: NinjaNaruto;
    font-size:50px; 
    font-style: italic;
    word-spacing: 5px;
    position: relative;
    top: 45px;
    
}
.title-row .leaf { display: none; }

/* NEW TUG-OF-WAR BATTLE STYLES */
.battle { 
    display:flex; 
    flex-direction: column; 
    align-items:center; 
    gap: 7px; 
    margin-bottom:12px; 
    position: relative;
}

/* Level Display Style*/
.level-display{
    display: grid;
}
.level-display .scroll-image{
    grid-row: 1;
    grid-column: 1;
    img{
        width: 200%;
        height: 80px;
        margin: 0;
        border: none;
        position: relative;
        left: -150px;
        top: 190px;
    }
    filter: brightness(0.9) contrast(0.8);
}
.level-number {
  position: absolute;
  top: 28%;
  left: 51%;
  transform: translate(-50%, -50%);
  z-index: 2; 
  font-size: 28px;
  font-weight: bold;
  color: #8c4614;
  text-shadow:
    1px 1px 2px rgba(0, 0, 0, 0.6),
    0 0 8px rgba(255, 180, 100, 0.3);
  white-space: nowrap;
}

/* BATTLE CONTAINER STYLING */
.battle-container {
  display: flex;
  align-items: center;
  justify-content: center; 
  gap: 60px; 
  margin-top: 10px;
  margin-bottom: 20px;
  width: 100%;
  flex-wrap: wrap; 
}

/* FIGHTER NAME BOXES */
.fighter-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: transparent;
  box-shadow: none;
  border: none;
}
.battle-container .fighter-box_left-fighter img {
 width: 20vw;
  height: 20vw;
  max-width: 280px;
  max-height: 280px;
  object-fit: contain;
  image-rendering: pixelated;
  position: relative;
  left: -50px;
  top: 40px;
}
.battle-container .fighter-box_right-fighter img {
  width: 20vw;
  height: 20vw;
  max-width: 280px;
  max-height: 280px;
  object-fit: contain;
  image-rendering: pixelated;
  position: relative;
  left: 460px;
  top: -340px;
}

/* Optional hover animation */
.fighter-img:hover {
  transform: translateY(-10px) scale(1.05);
  transition: transform 0.2s ease-in-out;
}

.fighter-label {
  background-color: #1c3372;
  color: white;
  font-weight: bold;
  font-size: 16px;
  padding: 6px 20px;
  text-align: center;
  border-radius: 6px;
  border: 2px solid rgba(0, 0, 0, 0.2);
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4);
  width: 120px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  left: 30px;
}
.fighter-box_right-fighter .fighter-label { 
    left: 550px;
    top: -380px;
 }

.battle-container .versus {
    font-family: NinjaNaruto;
    color: #ffd580;
    text-shadow: 
    0 0 8px rgba(255, 180, 100, 0.6),
    0 0 15px rgba(255, 160, 80, 0.4),
    3px 3px 0px rgba(139, 69, 19, 0.8),
    4px 4px 12px rgba(0, 0, 0, 0.7);
    font-size: 50px;
    font-style: italic;
    position: relative;
    left: -500px;
    top: 70px;  
}

/* Progress Bar Style */
.hp-wrapper {
  flex: 1; 
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  max-width: 600px; 
  min-width: 400px; 
  margin-top: 100px;
}
.hp-wrapper .single-hp-bar { 
    background: #d0d0d03c; 
    border-radius:6px; 
    height:14px; 
    width:120%; 
    overflow:hidden; 
    box-shadow: 0 0 5px rgba(0,0,0,0.1); 
    border: 2px solid rgba(163, 163, 163, 0.427);
    position: relative;
    left: -100px;
    top: 50px;
}
.hp-wrapper .hp-fill.blue { 
    background: linear-gradient(90deg, 
    rgba(255, 65, 54, 1) 0%,      
    rgba(255, 133, 27, 1) 40%,    
    rgba(66, 133, 244, 1) 79%,    
    rgb(85, 175, 154) 100%);
    transition: width 450ms ease; 
    box-shadow: none; 
    float:left; 
}
.naruto-progress { 
    margin: 0;
    float: left;
    font-size: 60px;
    font-weight: 100;
    color: #cb8757f2;
    text-shadow: 
    2px 2px 0px #000000,
    -1px -1px 0px #1a1a1a,
    0 0 8px rgba(0,0,0,0.9);
    position: relative;
    left: -60px;
    top: 5px;
}
.opponent-progress{
    margin: 0;
    float: right;
    font-size: 60px;
    font-weight: 100;
    color: #6177c7cd;
    text-shadow: 
    2px 2px 0px #000000,
    -1px -1px 0px #1a1a1a,
    0 0 8px rgba(0,0,0,0.9);
    position: relative;
    top: 5px;
    left: -120px;
}

/* Reset/New Game Button Group */
.battle-actions {
    display: flex;
    gap: 8px;
    margin-top: 8px;
}
.battle-actions button {
  background: url("../../assets/button.png") no-repeat center center / cover;
  border: none;
  width: 225px;        
  height: 50px;        
  filter: brightness(0.9) contrast(0.8); 
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color:#1e3986;
  font-weight:600;
  font-size: 16px;
  text-shadow: 1px 3px 1px #d2d2d2;
  box-shadow: none;    
  transition: transform 0.2s ease;
}
.small-btn:hover { transform: scale(1.05); }
.battle-actions button:hover{
    color: #0d14dd;
    filter: brightness(1.0) contrast(0.7);
}
.battle-actions button:active{ 
    width: 190px;
    font-size: 13px;
    color: #F66C2D;
    filter: brightness(1.0);
}

/* attack animation area */
.attack-area { display:flex; gap:12px; align-items:center; justify-content:center; margin:8px 0; }
.attack-gif { width:80px; height:auto; border-radius:8px; }
.attack-text { 
    font-size: 16px; 
    font-weight: 700; 
    color: var(--orange);
}

/* form row */
.form-row { display:flex; gap:8px; align-items:center; margin-bottom:12px; justify-content:center; }
.form-row input[type="text"] { 
    flex:2; 
    padding:8px 10px; 
    border-radius:8px; 
    border:1px solid white; 
    background: #082b8c9a; 
    color:white; 
}
.form-row input[type="text"]:hover{ background-color: #3c4762; }
::placeholder{ color: white; }
.form-row select { 
    padding:8px; 
    border-radius:8px; 
    border:1px solid white; 
    background:#e77844; 
    color:rgb(255, 255, 255); 
}
.form-row option[value="D"] { background: #00ff00; color: #000; }
.form-row option[value="C"] { background: #99ff66; color: #000; }
.form-row option[value="B"] { background: #ffcc66; color: #000; }
.form-row option[value="A"] { background: #ff9933; color: #fff; }
.form-row option[value="S"] { background: #ff3300; color: #fff; }

.priority.D { background: #00ff00; }
.priority.C { background: #99ff66; }
.priority.B { background: #ffcc66; }
.priority.A { background: #ff9933; }
.priority.S { background: #ff3300; color:#fff; }

.form-row input[type="date"] {
    padding: 8px 10px; 
    border-radius: 5px; 
    border: 1px solid white;   
    min-width: 150px; 
    cursor: pointer;
}
.form-row .date-input-field{ background-color: #363641; color: white; font-size: 14px; }

label{ font-weight: 500; color: #F0EBDF; }

.form-row .btn{
    border:#082C8C 4px outset;
    background-color: #F0EBDF;
    font-size: 15px;
    height: 38px;
    border-radius: 20px;
    color:#082C8C;
    position: relative;
    left: 30px;
}
.form-row .btn:hover{
    font-size: 16px;
    color: #4691CC;
    font-weight: bold;
    background-color: #292932
}
.form-row .btn:active{ transform: translateY(3px); }

/* list */
.list { margin-top:8px; }
.empty { text-align: center; color: #666; font-style: italic; padding: 20px; }
.task { display:flex; justify-content:space-between; align-items:center; background: #c2c1c19c; padding:10px; border-radius:8px; margin-bottom:8px; border:1px solid rgba(0,0,0,0.05); transition: background 200ms ease; color: var(--bg);}
.task:hover { background: #9b9b9b; }
.left { display:flex; gap:10px; align-items:center; flex:1; }
.meta .name { font-weight:600; }
.meta .name.done { text-decoration:line-through; opacity:0.7; }
.small { font-size:13px; color:#272626; }
.right { display:flex; align-items:center; gap:8px; }
.priority { padding:6px 10px; border-radius:8px; color:#071126; font-weight:700; font-size: 11px; }
.priority.low { background:#bdf7c9; }
.priority.medium { background:#fff3b0; }
.priority.high { background:#ffb0b0; }
.edit-btn, .del-btn { background:transparent; border:none; color:#333; cursor:pointer; font-weight:700; transition: transform 150ms ease; }
.edit-btn:hover, .del-btn:hover { transform:scale(1.1); color: var(--orange); }

/* TASK EDITING */
.editing-task { flex-wrap: wrap; background: #f0f0f0; }
.edit-fields-wrap { display: flex; flex-grow: 1; gap: 8px; align-items: center; margin-right: 10px; }
.edit-input { flex-grow: 1; padding: 6px 8px; border-radius: 6px; border: 1px solid rgba(0,0,0,0.15); background: #fff; }
.edit-select { padding: 6px; border-radius: 6px; border: 1px solid rgba(0,0,0,0.15); background: #fff; }
.edit-date-input { padding: 6px 8px; border-radius: 6px; border: 1px solid rgba(0,0,0,0.15); background: #fff; width: 100px; }
.edit-controls button { padding: 6px 8px; font-size: 12px; }
.edit-controls .save-btn { background: var(--blue); color: white; }
.edit-controls .cancel-btn { color: var(--bg); border-color: rgba(0,0,0,0.15); }

/* STREAK COUNTER */
.streak-counter { position: relative; top: -100px; left: 500px; font-size: 14px; font-weight: 500; font-family: PixelSans; text-align: center; color: #F66C2D; background:#363641; padding: 4px 8px; border-radius: 5px; border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 5; }

/* REWARDS OVERLAY */
.rewards-overlay { position: fixed; bottom: 0; right: 0; width: 350px; max-height: 80vh; background: #ffffff; padding: 18px; border-top-left-radius: 12px; box-shadow: 0 0 20px rgba(0,0,0,0.4); z-index: 1000; transform: translateY(0); transition: transform 300ms ease-out; border: 1px solid rgba(0,0,0,0.1); }
.rewards-overlay .hud-title { color: var(--bg); font-weight: 800; font-size: 16px; margin-bottom: 6px; }
.overlay-hint { font-size: 14px; color: var(--orange); font-weight: 700; margin-bottom: 10px; }
.reward-list-scroll { max-height: calc(80vh - 120px); overflow-y: auto; padding-right: 10px; }
.rewards-overlay .reward-item { padding: 8px 0; border-bottom: 1px dashed rgba(0,0,0,0.15); font-size: 12px; }
.rewards-overlay .reward-item:last-child { border-bottom: none; }
.rewards-overlay .reward-name { font-size: 13px; font-weight: 700; }
.rewards-overlay .close-btn { position: absolute; top: 10px; right: 10px; background: none; border: none; font-size: 18px; cursor: pointer; z-index: 1001; }
.rewards-btn { position: fixed; bottom: 22px; right: 22px; background: #24242c; color: #fff; padding: 10px 15px; border-radius: 50px; font-weight: 700; box-shadow: 0 4px 15px rgba(0,0,0,0.25); z-index: 999; }
.rewards-btn:hover { background: #2a2a2a; transform: translateY(-2px); }

/* -------------------------------------------------- */
/* SHOP BUTTON AND OVERLAY */

/* Shop Button */
.shop-btn {
    position: fixed;
    top: 22px;
    right: 22px;
    background: linear-gradient(135deg, #ffb347, #ffcc33);
    color: #24242c;
    padding: 10px 16px;
    border-radius: 50px;
    font-weight: 700;
    font-size: 14px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    z-index: 1000;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.3s ease;
}

.shop-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 22px rgba(0,0,0,0.35);
    background: linear-gradient(135deg, #ffcc33, #ffb347);
}

/* Shop Overlay */
.shop-overlay {
    position: fixed;
    top: 70px;                   /* Directly below the button */
    right: 22px;
    width: 360px;
    max-height: 75vh;
    background: #1e1e2f;
    color: #fff;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 12px 28px rgba(0,0,0,0.5);
    z-index: 1001;
    transform: translateY(-20px);
    opacity: 0;
    transition: transform 300ms ease-out, opacity 300ms ease-out;
    border: 1px solid rgba(255,255,255,0.1);
    overflow-y: auto;
}

/* Active State */
.shop-overlay.active {
    transform: translateY(0);
    opacity: 1;
}

/* Close Button */
.shop-overlay .close-btn {
    position: absolute;
    top: 12px;
    right: 12px;
    background: transparent;
    color: #fff;
    border: none;
    font-size: 16px;
    cursor: pointer;
    transition: color 0.2s ease;
}

.shop-overlay .close-btn:hover {
    color: #ffcc33;
}

/* Shop Overlay Title */
.shop-overlay .hud-title {
    font-weight: 800;
    font-size: 18px;
    margin-bottom: 12px;
    color: #ffcc33;
}

/* Scrollable Shop List */
.shop-list-scroll {
    max-height: calc(75vh - 80px);
    overflow-y: auto;
    padding-right: 8px;
}

/* Individual Shop Item */
.shop-item {
    padding: 10px 0;
    border-bottom: 1px dashed rgba(255,255,255,0.15);
    font-size: 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.shop-item:last-child {
    border-bottom: none;
}

/* Shop Item Name */
.shop-name {
    font-size: 14px;
    font-weight: 700;
}

/* Shop Item Button */
.shop-item button {
    padding: 4px 10px;
    border-radius: 6px;
    border: none;
    background: #ffb347;
    color: #24242c;
    font-weight: 700;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.2s ease;
}

.shop-item button:hover {
    background: #ffcc33;
    transform: translateY(-1px);
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .shop-btn {
        top: 10px;
        right: 10px;
        padding: 8px 12px;
        font-size: 13px;
    }

    .shop-overlay {
        top: 55px;
        right: 10px;
        width: 95%;
        padding: 16px;
    }

    .shop-list-scroll {
        max-height: calc(90vh - 70px);
    }
}
